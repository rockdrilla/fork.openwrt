--- a/Makefile
+++ b/Makefile
@@ -42,7 +42,7 @@ LDFLAGS_AUTO =
 LIBCC = -lgcc
 CPPFLAGS =
 CFLAGS =
-CFLAGS_AUTO = -Os -pipe
+CFLAGS_AUTO = $(TARGET_CFLAGS) $(if $(filter -O%,$(TARGET_CFLAGS)),,-Os) -pipe
 CFLAGS_C99FSE = -std=c99 -ffreestanding -nostdinc 
 
 CFLAGS_ALL = $(CFLAGS_C99FSE)
